<div class="container" ng-controller="PaqueteCtrl">
    <div class="block-header">
        <h2>Gestión de paquetes - Crear paquete</h2>

        <ul class="actions">
            <li>
                <a href="">
                    <i class="zmdi zmdi-trending-up"></i>
                </a>
            </li>
            <li>
                <a href="">
                    <i class="zmdi zmdi-check-all"></i>
                </a>
            </li>
            <li class="dropdown" uib-dropdown>
                <a href="" uib-dropdown-toggle>
                    <i class="zmdi zmdi-more-vert"></i>
                </a>
            </li>
        </ul>

    </div>
    <div class="card">
        <div class="card-header">
            <h2>Crear paquete
                <small>Crear paquete pertenece a la sección de gestion de productos
                </small>
            </h2>
        </div>

        <div class="card-body card-padding">
            <p class="c-black f-500 m-b-5">Crear nuevo paquete</p>
            <small>En esta sección usted puede crear un nuevo paquete</small>
            <br/><br/>
            <div class="row">
                <div class="col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="zmdi"></i></span>
                        <div class="fg-line">
                            <label for="tipoCrear">Tipo de producto</label>
                            <select data-placeholder="Tipo de producto..." class="w-100" id="tipoCrear"
                                    ng-model="paquete.tipo_producto_id">
                                <option value="5" selected>PAQUETE</option>
                            </select>
                        </div>

                    </div>

                </div>
                <div class="=col-sm-8">
                    <div class="input-group">
                        <span class="input-group-addon last"><i class="zmdi"></i></span>
                        <div class="fg-line">
                            <label for="nombreCrear">Nombre del paquete</label>
                            <input class="form-control" rows="4" placeholder="Nombre del producto...."
                                   ng-model="paquete.nombre" id="nombreCrear">
                        </div>
                        <span class="input-group-addon last"><i class="zmdi"></i></span>

                    </div>
                </div>

            </div>
            <br/><br/>
            <div class="row">
                <div class="=col-sm-12">
                    <div class="input-group">
                        <span class="input-group-addon last"><i class="zmdi"></i></span>
                        <div class="fg-line">
                            <label for="descripcionCrear">Descripción del paquete</label>
                            <textarea class="form-control" rows="4" placeholder="Añadir descripción...."
                                      ng-model="paquete.descripcion" id="descripcionCrear"></textarea>
                        </div>
                        <span class="input-group-addon last"><i class="zmdi"></i></span>

                    </div>
                </div>
            </div>
            <br/><br/>
            <div class="row">
                <br/>
                <div class="col-md-4">
                    <div class="input-group">
                        <span class="input-group-addon last"><i class="zmdi zmdi-money"></i></span>
                        <div class="fg-line">
                            <label for="precioCrear">Precio por paquete</label>
                            <input type="text" class="form-control" data-input-mask="{mask: '000000000'}"
                                   placeholder="Precio" ng-model="paquete.precio" id="precioCrear">
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <div class="fg-line">
                            <label for="cantidadCrear">Cantidad de paquetes</label>
                            <input type="text" class="form-control" data-input-mask="{mask: '0000'}"
                                   placeholder="Cantidad" ng-model="paquete.cantidad" id="cantidadCrear">
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="input-group">
                        <span class="input-group-addon last"><i class="zmdi"></i></span>
                        <div class="fg-line">
                            <label for="tipoEstado">Seleccione el estado de su paquete</label>
                            <select data-placeholder="Seleccione estado..." class="w-100" id="tipoEstado"
                                    ng-model="paquete.estado">
                                <option value="ACTIVO">ACTIVO</option>
                                <option value="INACTIVO">INACTIVO</option>
                            </select>
                        </div>
                        <span class="input-group-addon last"><i class="zmdi"></i></span>
                    </div>
                    <br/>
                    <br>
                </div>
            </div>
            <br/>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <table ng-table="tctrl.tableBasic" class="table table-striped table-vmiddle">
                        <tr ng-repeat="w in agregado">
                            <td data-title="'Identificador'">
                                {{w.id}}
                            </td>
                            <td data-title="'Nombre del servicio'">
                                {{w.nombre}}
                            </td>
                            <td data-title="'Descripción servicio'">
                                {{ w.descripcion }}
                            </td>
                            <td data-title="'Tipo servicio'">
                                {{ w.tipo }}
                            </td>
                            <td data-title="'Precio'">
                                {{ w.precio |number}}
                            </td>
                            <td data-title="'Retirar'">
                                <button type="button" class="btn btn-danger" ng-click="quitarProducto(w.id)">
                                    <i class="zmdi zmdi-minus"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td></td><td></td><td></td><td><h4>Total</h4></td>

                            <td class="highlight">
                                <h4>${{total|number}}</h4>
                            </td>
                        </tr>
                    </table>

                </div>
                <br>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-8">
                    <div class="input-group">
                        <span class="btn btn-success btn-file m-r-10" ng-if="!mostrar" data-ng-click="consultarProductos();">Mostrar Mis Productos</span>
                        <span class="btn btn-success btn-file m-r-10" ng-if="mostrar" data-ng-click="consultarProductos();">Ocultar Mis Productos</span>
                    </div>
                </div>
            </div>
            <br>
            <br>
            <div class="row">
                <div ng-if="mostrar" class="col-md-12">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table ng-table="tctrl.tableBasic" class="table table-striped table-vmiddle">
                                <tr ng-repeat="w in datos">
                                    <td data-title="Identificador">
                                        {{w.idproducto}}
                                    </td>
                                    <td data-title="'Nombre del servicio'">
                                        {{w.nombre}}
                                    </td>
                                    <td data-title="'Descripción servicio'">
                                        {{ w.descripcion }}
                                    </td>
                                    <td data-title="'Tipo servicio'">
                                        {{ w.tipo }}
                                    </td>
                                    <td data-title="'Precio'">
                                        {{ w.precio|number }}
                                    </td>
                                    <td data-title="'Agregar'">
                                        <button type="button" class="btn btn-info" ng-click="agregarProductos(w.id)">
                                            <i class="zmdi zmdi-plus"></i>
                                        </button>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!--IMAGNES-->
            <div class="card-body card-padding">
                <div class="col-xs-1">
                    <span class=" btn btn-success btn-file m-r-10" style="cursor: pointer">
                        <i class="zmdi zmdi-plus zmdi-hc-fw"></i>
                        <input type='file' ng-model-instant onchange="angular.element(this).scope().imageUpload(event)" multiple />
                    </span>
                </div>
                <div class="col-xs-6">
                    <p class="c-black f-500 m-b-5">Galeria</p>
                    <small>Adicionar Imagen</small>
                </div>
                <div class="clearfix"></div>
            </div>

            <div class="card-body card-padding">
                <div class="lightbox photos">
                    <div class="fileinput fileinput-new col-xs-3" data-provides="fileinput" ng-repeat="imagen in imagenesCargadas">
                        <div class="fileinput-preview thumbnail">
                            <img ng-src="{{imagen.img}}"/><div class="clearfix"></div>
                            <a ng-click="eliminarFoto(imagen.$$hashKey)"><i class="zmdi zmdi-delete zmdi-hc-fw"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="clearfix"></div>

            <!-- Botones de Confirmación -->
            <div class="row">
                <div class="col-md-4">
                </div>
                <div class="col-md-2">
                    <div class="input-group">
                        <span class="btn btn-success btn-file m-r-10" data-ng-click="insertarPaquete()">Guardar</span>
                    </div>
                </div>
                <div class="col-md-2">
                    <div class="input-group">
                        <span class="btn btn-warning btn-file m-r-10" data-ui-sref="paquetes.lista">Cancelar</span>
                    </div>
                </div>
                <div class="col-md-4">
                </div>
            </div>
        </div>
    </div>
</div>
